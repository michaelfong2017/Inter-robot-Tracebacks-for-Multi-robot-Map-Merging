<launch>
    <arg name="first_tb3" default="tb3_0" />
    <arg name="second_tb3" default="tb3_1" />
    <arg name="third_tb3" default="tb3_2" />

    <group ns="$(arg first_tb3)">
        <include file="$(find traceback_bringup)/launch/modified_gmapping.launch">
            <arg name="robot_name" value="$(arg first_tb3)" />
        </include>

        <include file="$(find traceback_bringup)/launch/modified_move_base.launch">
            <arg name="cmd_vel_topic" value="cmd_vel" />
            <arg name="robot_name" value="$(arg first_tb3)" />
        </include>


        <node pkg="tf" type="static_transform_publisher" name="world_to_$(arg first_tb3)_$(arg first_tb3)_tf_broadcaster" args="0 0 0 0 0 0 /map /$(arg first_tb3)/$(arg first_tb3)/map 50" />
        <include file="$(find explore_lite)/launch/explore.launch"></include>
    </group>

    <group ns="$(arg second_tb3)">
        <include file="$(find traceback_bringup)/launch/modified_gmapping.launch">
            <arg name="robot_name" value="$(arg second_tb3)" />
        </include>

        <include file="$(find traceback_bringup)/launch/modified_move_base.launch">
            <arg name="cmd_vel_topic" value="cmd_vel" />
            <arg name="robot_name" value="$(arg second_tb3)" />
        </include>

        <node pkg="tf" type="static_transform_publisher" name="world_to_$(arg second_tb3)_$(arg second_tb3)_tf_broadcaster" args="0 0 0 0 0 0 /map /$(arg second_tb3)/$(arg second_tb3)/map 50" />
        <include file="$(find explore_lite)/launch/explore.launch"></include>
    </group>

    <group ns="$(arg third_tb3)">
        <include file="$(find traceback_bringup)/launch/modified_gmapping.launch">
            <arg name="robot_name" value="$(arg third_tb3)" />
        </include>

        <include file="$(find traceback_bringup)/launch/modified_move_base.launch">
            <arg name="cmd_vel_topic" value="cmd_vel" />
            <arg name="robot_name" value="$(arg third_tb3)" />
        </include>

        <node pkg="tf" type="static_transform_publisher" name="world_to_$(arg third_tb3)_$(arg third_tb3)_tf_broadcaster" args="0 0 0 0 0 0 /map /$(arg third_tb3)/$(arg third_tb3)/map 50" />
        <include file="$(find explore_lite)/launch/explore.launch"></include>
    </group>


    <include file="$(find traceback_bringup)/launch/modified_map_merge.launch" />


    <param name="/warehouse_port" type="int" value="27017" />
    <node pkg="warehouse_ros_mongo" name="mongodb" type="mongo_wrapper_ros.py">
        <param name="~db_path" type="str" value="~/catkin_ws/db" />
    </node>

</launch>