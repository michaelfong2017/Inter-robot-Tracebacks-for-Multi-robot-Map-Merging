<launch>
    <arg name="first_tb3" default="tb3_0" />
    <arg name="second_tb3" default="tb3_1" />
    <arg name="third_tb3" default="tb3_2" />

    <group ns="$(arg first_tb3)">
        <include file="$(find explore_lite)/launch/explore.launch"></include>
    </group>

    <group ns="$(arg second_tb3)">
        <include file="$(find explore_lite)/launch/explore.launch"></include>
    </group>

    <group ns="$(arg third_tb3)">
        <include file="$(find explore_lite)/launch/explore.launch"></include>
    </group>


    <include file="$(find traceback_bringup)/launch/modified_map_merge.launch" />


    <node pkg="traceback" type="traceback" respawn="false" name="traceback" output="screen">
        <param name="robot_map_topic" value="map"/>
        <param name="robot_namespace" value="tb3"/>
        <param name="transform_tolerance" value="0.3"/>
        <param name="update_target_rate" value="0.2"/>
        <param name="discovery_rate" value="0.05"/>
        <param name="estimation_rate" value="0.1"/>
        <param name="estimation_confidence" value="0.8"/>
        <param name="camera_image_update_rate" value="1.5"/>
        <!-- The queue size has to be large enough so that an explored near place can be found -->
        <param name="camera_pose_image_max_queue_size" value="200"/>
        <param name="camera_pose_image_queue_skip_count" value="20"/>
        <param name="essential_mat_confidence" value="0.3"/>
        <param name="point_cloud_match_score" value="0.15"/>
        <param name="point_cloud_close_score" value="0.005"/> <!-- Close condition 1 -->
        <param name="point_cloud_close_translation" value="0.1"/> <!-- Close condition 2a: Translation condition (every axis) for two point clouds to be close -->
        <param name="point_cloud_close_rotation" value="0.05"/> <!-- Close condition 2b: Rotation condition for two point clouds to be close -->
        <param name="accept_count_needed" value="11"/>
        <param name="reject_count_needed" value="4"/>
        <param name="consecutive_abort_count_needed" value="6" />
        <!-- either "triangulation" or "pointcloud" -->
        <param name="adjustment_mode" value="pointcloud" default="pointcloud" />
    </node>


    <!-- <include file="$(find mongodb_store)/launch/mongodb_store.launch">
        <arg name="db_path" value="$(env HOME)/catkin_ws/db" />
        <arg name="port" value="27017" />
    </include> -->

</launch>